Metadata-Version: 2.4
Name: hlsf-engine
Version: 0.0.0.0
Summary: High-Level Space Field (HLSF) cognition engine with LLM integration
Author: HLSF Authors
License: MIT
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy>=1.26
Requires-Dist: networkx>=3.2
Requires-Dist: requests>=2.31
Dynamic: license-file

# HLSF Engine (LLM-enabled)

A working implementation of the **High-Level Space Field (HLSF) cognition engine** that can:
- Call an LLM for **adjacency expansions** (2 per token)
- Call an LLM for **symbolic glyph selection** from a deterministic 1,000-glyph bank
- Use the LLM for **recursive refinement** of the final answer (multi-pass)

It also runs fully offline using a **mock provider**, so tests don't require network access.

## Install
```bash
python -m venv .venv && source .venv/bin/activate
pip install -e .
```

## Quick start (offline, mock provider)
```bash
hlsf run "Explain quantum tunneling to a 12-year-old." --provider mock --passes 2
cat out/answer.txt
```

## Using an OpenAI-compatible endpoint

Set environment variables (examples below) and omit `--provider mock`. The code uses a standard `/v1/chat/completions` interface.

```bash
export LLM_PROVIDER=openai_compat
export LLM_API_KEY="sk-...your key..."
export LLM_BASE_URL="https://api.openai.com"
export LLM_MODEL="gpt-4o-mini"    # or any compatible chat model id
hlsf run "Summarize the benefits of spaced repetition." --passes 3
```

The engine is provider-agnostic: any server exposing the OpenAI-compatible Chat Completions route will work by adjusting `LLM_BASE_URL` and `LLM_MODEL`.

## Outputs

- `out/space_field.json` — Space-Field Map JSON (tokens, expansions, triangles, edges, threads)
- `out/answer.txt` — Final answer text (LLM-refined if enabled)

## Tests
```bash
pytest -q
```

## Notes

- If `LLM_PROVIDER` is absent (or `--provider mock`), the pipeline uses the offline baseline for expansions & glyphs and the baseline composer.
- The LLM prompts request JSON-only for expansions/glyphs and final answer only for drafting/refinement (no chain-of-thought).
